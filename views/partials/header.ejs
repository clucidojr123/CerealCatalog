<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="/styles.css" type="text/css">
    <link rel="icon" href="/images/cerealbg.svg"/>
    <title>Cereal Catalog</title>
</head>
<body>
<div class="nav-container">
    <a href="/"><img id="icon" src="/images/cerealbg.svg" alt="cereal icon"></a>
    <ul class="nav" id="navbar">
        <li id="cereals-nav"><a href="/cereals">Cereals</a></li>
        <li id="new-cereals-nav"><a href="/cereals/new">Add Cereal</a></li>
        <% if(currentUser) { %>
            <li id="login-nav"><a href="/logout">Logout</a></li>
        <% } else { %>
            <li id="login-nav"><a href="/login">Login</a></li>
        <% } %> 
        <li id="search-nav">
            <form action="/cereals/search" method="GET">
                <input type="text" name="s" placeholder="Search Cereals">
                <button class="search-submit" type="submit">Search</button>
            </form>
        </li>
    </ul>
    <a id="nav-dropdown" href="javascript:void(0)" onclick="move()"><img src="/images/menu.svg" alt="menu dropdown"></a>
</div>
<script type="text/javascript">
    function move() {
        const x = document.getElementById("navbar");
        if (x.style.display === "block") {
            x.style.display = "none";
        } else {
            x.style.display = "block";
        }
    }
</script>
<% if((success && success.length > 0) || (error && error.length > 0)) { %>
    <div id="flash" class= <%= (success && success.length > 0) ? "success-flash" : "error-flash" %>>
        <img class="flash-icon" src=<%= (success && success.length > 0) ? "/images/checkmark.svg" : "/images/error.svg" %>  alt="status icon">
        <p class="flash-text"><%= (success && success.length > 0) ? success : error %></p>
    </div>
<% } %>  
